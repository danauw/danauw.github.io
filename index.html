<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Happy 18th Birthday Dana &#127874;&#127881;</title>
  <link rel="shortcut icon" href="./images/D.ico" />

  <link rel="stylesheet" href="styles/flexbox-center-container.css" media="all">
  <link rel="stylesheet" href="styles/system-fonts.css" media="all">
  <link rel="stylesheet" href="styles/style.css" media="all">
  <link rel="stylesheet" href="https://use.typekit.net/gpd2hso.css" />
</head>

<body>
  <audio controls loop autoplay hidden id="bg-music">
    <source src="./mp3s/bg-music.mp3" type="audio/mpeg">
    Your browser does not support the audio element.
  </audio>
  <nav id="links">
    <a href="./GlitchyGrid/">Gallery</a>
    <a href="./ShapesSlideshow/">Slideshow</a>
    <a href="./Greetings/">Greetings</a>
  </nav>
  <canvas id="c"></canvas>
  <canvas id="confetti"></canvas>
  <div class="container" id="count">
    <h1 id="head">Countdown to your birthday:</h1>
    <ul>
      <li><span id="day"></span>days</li>
      <li><span id="hour"></span>hours</li>
      <li><span id="minute"></span>minutes</li>
      <li><span id="second"></span>seconds</li>
    </ul>
  </div>
  <div id="merrywrap" class="merrywrap">
    <canvas id="snowfall"></canvas>
    <div class="giftbox">
      <div class="cover">
        <div></div>
      </div>
      <div class="box"></div>
    </div>
</body>
<script src="scripts/confetti.min.js" charset="utf-8"></script>
<script src="scripts/index.js" charset="utf-8"></script>
<script>
  const myAudio = document.getElementById('bg-music');
  let currentTime = localStorage.getItem('currentTime');
  myAudio.addEventListener('canplaythrough', function() {
    if (currentTime && this.currentTime < currentTime) {
      this.currentTime = currentTime;
    }
    this.play();
  });
  myAudio.addEventListener("timeupdate", function () {
    if (this.currentTime > currentTime) {
      localStorage.setItem("currentTime", this.currentTime);
      currentTime = this.currentTime;
    }
  });
  myAudio.addEventListener("ended", function () {
    localStorage.setItem("currentTime", 0);
  });
</script>

</html>
